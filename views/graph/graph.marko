<!DOCTYPE html>
<html lang="pt-br">
  <head/>
  <body>
    <input type="hidden" id="data" name="data" value=`${data.dados}`/>
    <input type="hidden" id="random" name="random" value=`${data.random}`/>
    <input type="hidden" id="string" name="string" value=`${data.strings}`/>
    <input type="hidden" id="entrada" name="entrada" value=`${data.entrada}`/>
    <div id="container2" style="width: 100%; height: 400px;"/>
    <div id="container" style="width: 100%; height: 600px;"/>
    <div id="container3" style="width: 100%; height: 600px;"/>
    <script src="/static/jquery/jquery.min.js"/>
    <script src="/static/js/anychart-base.min.js" type="text/javascript"/>
    <a href="/" class="btn btn-primary">
      <button class="btn btn-primary">voltar</button>
    </a>
    <!--<script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js" type="text/javascript"></script>-->
    <script>
      anychart.onDocumentLoad(function () {
        // create an instance of a pie chart
      
      var $box = $("input#data");
      var data = $box.val();
      var $box2 = $("input#string");
      var string = $box2.val();
      var $box3 = $("input#random");
      var random = $box3.val();
      var $box4 = $("input#entrada");
      var entrada = $box4.val();
      string = string.split(',');
      data = data.split(',');
      random = random.split(',');
      entrada = entrada.split(',');
      var dados = [];
      var array = [];
      console.log("data:", data);
      console.log("string", string);
      for(var x = 0; x < data.length ; x++){
        array = [string[x],data[x]];
        dados.push(array);
      }
      console.log(dados);

      chart = anychart.column();
      chart.title("Pks - LogNormal");
      chart.dataArea().background().enabled(true);
      chart.dataArea().background().fill("#665B59 0.2");
      var series = chart.column(dados);
      chart.container("container2");
      chart.draw();
      
      string = ["P1","P2","P3","P2novo", "P3novo"];
      array1 = [];
      dados = [];
      array = [];
      var dados2 = []; 
      var ctrl = entrada.length/5;
      var z = 0;
      var p = 0;
      for(var x = 0; x < entrada.length ; x++){
        if(x == z){
          str = `valor ${x}`
          array = [str,entrada[x]];
          array1 = [str,random[p]];
          dados.push(array1);
          console.log(array,x);
          p++;
          z += ctrl;
          if (z > entrada.length){
            z = entrada.length;
          }
        } else {
          array = [`valor ${x}`, entrada[x]];
          array1 = array;
        }
        dados2.push(array);
      }
      /*
      dados2 = anychart.data.set(dados2);
      chart = anychart.line();
      chart.title("Dados");
      chart.dataArea().background().enabled(true);
      chart.dataArea().background().fill("#665B59 0.2");
      var series2 = chart.line(dados2);
      series2.name("dados");
      series2.normal().stroke("#00cc99");
      series2.hovered().stroke("#00cc99", 2);
      series2.selected().stroke("#00cc99", 4);
      chart.container("container");
      chart.draw();

      dados = anychart.data.set(dados);
      chart = anychart.line();
      chart.title("Pontos");
      chart.dataArea().background().enabled(true);
      chart.dataArea().background().fill("#665B59 0.2");
      var series = chart.line(dados);
      series.name("pontos")
      series.normal().stroke("#0066cc", 1, "10 5", "round");
      series.hovered().stroke("#0066cc", 2, "10 5", "round");
      series.selected().stroke("#0066cc", 4, "10 5", "round");
      chart.container("container");
      chart.draw();
      */
      stage = anychart.graphics.create("container3");

      // create a chart
      var chart = anychart.line();

      dataSet1 = (dados);
      dataSet2 = (dados2);

      series1 = chart.line(dataSet1);
      series2 = chart.line(dataSet2);

      var scale = chart.yScale();
      // Sets scale maximum.
      //scale.maximum(2);

      // add a title standalone object on the chart
      chart.title("Dados e Pontos");
      chart.dataArea().background().enabled(true);
      chart.dataArea().background().fill("#665B59 0.2");

      // put the chart on a stage and draw it
      chart.container(stage);
      chart.draw();

      // put the title object on a stage
      title.container(stage);
      title.draw();
    });
  </script>
  </body>
</html>
