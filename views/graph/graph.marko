<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title>Calculo do Pk</title>
    <link rel="stylesheet" href="/static/css/foundation.min.css"/>
    <link rel="stylesheet" href="/nd_md/@fortawesome/fontawesome-free/css/all.css"/>
  </head>
  <body>
    <nav class="top-bar topbar-responsive">
      <div class="top-bar-title">
        <a class="topbar-responsive-logo" href="/">
          <strong>CÃ¡lculo da Probabilidade da Log-Normal</strong>
        </a>
      </div>
    </nav>
    <br/>
    <input type="hidden" id="data" name="data" value=`${data.dados}`/>
    <input type="hidden" id="random" name="random" value=`${data.random}`/>
    <input type="hidden" id="string" name="string" value=`${data.strings}`/>
    <input type="hidden" id="entrada" name="entrada" value=`${data.entrada}`/>
    <div id="container2" style="width: 100%; height: 400px;"/>
    <!-- <div id="container" style="width: 100%; height: 600px;"/> -->
    <div id="container3" style="width: 100%; height: 600px;"/>
    <form action="/recalcular" method="post">
      <div class="button-group">
        <!--<button class="button primary">recalcular</button>-->
        <a class="button" href="/">voltar</a>
      </div>
    </form>
    <footer class="social-footer">
      <div class="social-footer-left">
        <p>&copy; 2021 Copyright</p>
      </div>
      <div class="social-footer-icons">
        <li class="menu simple">
          <ul>
            <a href="https://gitlab.com/Josehpequeno/">
              <i class="fab fa-gitlab" aria-hidden="true">Josehpequeno</i>
            </a>
          </ul>
          <ul>
            <a href="https://github.com/Josehpequeno">
              <i class="fab fa-github" aria-hidden="true">Josehpequeno</i>
            </a>
          </ul>
          <ul>
            <a href="https://www.linkedin.com/in/hicaro-jose-2aa269166/">
              <i class="fab fa-linkedin" aria-hidden="true">hicaro-jose</i>
            </a>
          </ul>
        </li>
      </div>
    </footer>
    <script src="/static/jquery/jquery.min.js"/>
    <script src="/static/js/anychart-base.min.js" type="text/javascript"/>
    <!--<script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js" type="text/javascript"></script>-->
    <script>
      anychart.onDocumentLoad(function () {
        // create an instance of a pie chart
      
      var $box = $("input#data");
      var data = $box.val();
      var $box2 = $("input#string");
      var string = $box2.val();
      var $box3 = $("input#random");
      var random = $box3.val();
      var $box4 = $("input#entrada");
      var entrada = $box4.val();
      string = string.split(',');
      data = data.split(',');
      random = random.split(',');
      entrada = entrada.split(',');
      var dados = [];
      var array = [];
      console.log("data:", data);
      console.log("string", string);
      for(var x = 0; x < data.length ; x++){
        array = [string[x],data[x]];
        dados.push(array);
      }
      console.log(dados);

      var chart = anychart.column();
      chart.title("Pks - LogNormal");
      chart.dataArea().background().enabled(true);
      chart.dataArea().background().fill("#665B59 0.2");
      var series = chart.column(dados);
      chart.container("container2");
      chart.draw();
      
      string = ["P1","P2","P3","P2novo", "P3novo"];
      array1 = [];
      array2 = [];
      array3 = [];
      array4 = [];
      array5 = [];
      var dados1 = [];
      var dados2 = [];
      var dados3 = [];
      var dados4 = [];
      var dados5 = [];
      array = [];
      dados = []; 
      for(var x = 0; x < entrada.length ; x++){
        array = [`valor ${x}`, entrada[x]];
        array1 = [`valor ${x}`, random[0]];
        array2 = [`valor ${x}`, random[1]];
        array3 = [`valor ${x}`, random[2]];
        array4 = [`valor ${x}`, random[3]];
        array5 = [`valor ${x}`, random[4]];
          //array1 = array;
        dados.push(array);
        dados1.push(array1);
        dados2.push(array2);
        dados3.push(array3);
        dados4.push(array4);
        dados5.push(array5);
      }
      /*dados2 = anychart.data.set(dados2);
      chart = anychart.line();
      
      chart.title("Dados");
      chart.dataArea().background().enabled(true);
      chart.dataArea().background().fill("#665B59 0.2");
      var series2 = chart.line(dados2);
      series2.name("dados");
      series2.normal().stroke("#00cc99");
      series2.hovered().stroke("#00cc99", 2);
      series2.selected().stroke("#00cc99", 4);
      chart.container("container");
      chart.draw();*/
      /*
      dados = anychart.data.set(dados);
      chart = anychart.line();
      chart.title("Pontos");
      chart.dataArea().background().enabled(true);
      chart.dataArea().background().fill("#665B59 0.2");
      var series = chart.line(dados);
      series.name("pontos")
      series.normal().stroke("#0066cc", 1, "10 5", "round");
      series.hovered().stroke("#0066cc", 2, "10 5", "round");
      series.selected().stroke("#0066cc", 4, "10 5", "round");
      chart.container("container");
      chart.draw();*/
      stage = anychart.graphics.create("container3");

      // create a chart
      var chart = anychart.line();

      dataSet = (dados);
      dataSet1 = (dados1);
      dataSet2 = (dados2);
      dataSet3 = (dados3);
      dataSet4 = (dados4);
      dataSet5 = (dados5);

      series = chart.line(dataSet);
      series.name("Valor Real")
      series1 = chart.line(dataSet1);
      series1.stroke("red");
      series1.name("P1");
      series2 = chart.line(dataSet2);
      series2.stroke("green");
      series2.name("P2");
      series3 = chart.line(dataSet3);
      series3.stroke("yellow");
      series3.name("P3");
      series4 = chart.line(dataSet4);
      series4.stroke("purple");
      series4.name("P4");
      series5 = chart.line(dataSet5);
      series5.stroke("black");
      series5.name("P5");
      var scale = chart.yScale();
      // Sets scale maximum.
      //scale.maximum(2);

      // add a title standalone object on the chart
      chart.title("Dados e Pontos");
      chart.dataArea().background().enabled(true);
      chart.dataArea().background().fill("#665B59 0.2");

      // put the chart on a stage and draw it
      chart.container(stage);
      chart.draw();

      // put the title object on a stage
      title.container(stage);
      title.draw();
    });
  </script>
  </body>
</html>
